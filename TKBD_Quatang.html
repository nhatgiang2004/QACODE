<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PHI·∫æU NH·∫¨N QU√Ä KHUY·∫æN M·∫†I</title>
  <style>
    body { font-family: Times New Roman, serif; margin: 0; background: #fff; }
    .wrap { max-width: 800px; margin: 20px auto; padding: 20px 40px; border: 1px solid #000; background: #fff; }
    .head { display: flex; justify-content: space-between; align-items: center; }
    .head img { width: 100px; height: auto; }
    .head .title { text-align: center; flex: 1; }
    .head .title b { font-size: 20px; }
    .head .title u { display: block; margin-top: 4px; }

    h1 { text-align: center; margin: 24px 0 16px; font-size: 26px; font-weight: bold; }

    .info p { margin: 6px 0; font-size: 16px; line-height: 1.5; }
    .info b { font-weight: bold; }
    .info i { font-style: italic; }

    .confirm { margin-top: 40px; text-align: right; font-size: 16px; }
    .sign { margin-top: 60px; text-align: right; font-style: italic; }

    .actions {
      position: fixed;
      top: 10px;
      right: 10px;
      z-index: 999;
    }
    .actions button {
      margin: 4px;
      padding: 8px 14px;
      font-size: 13px;
      cursor: pointer;
      border: 1px solid #333;
      border-radius: 6px;
      background: #f9f9f9;
    }
    @media print { .actions { display: none; } }
  </style>
</head>
<body>
  <div class="actions">
    <button onclick="window.print()">üñ® In</button>
    <button onclick="exportPDF()">üìÑ Xu·∫•t PDF</button>
  </div>

  <div class="wrap" id="voucher">
    <div class="head">
      <img src="https://i.ibb.co/Xf5qv9pg/vnpost.jpg" alt="Logo" />
      <div class="title">
        <b>C·ªòNG HO√Ä X√É H·ªòI CH·ª¶ NGHƒ®A VI·ªÜT NAM</b>
        <u>ƒê·ªôc L·∫≠p ‚Äì T·ª± Do ‚Äì H·∫°nh Ph√∫c</u>
      </div>
    </div>

    <h1>PHI·∫æU NH·∫¨N QU√Ä KHUY·∫æN M·∫†I</h1>

    <div class="info">
      <p><b>T√¥i l√†:</b> <span id="T√™n Kh√°ch h√†ng"></span></p>
      <p><b>L√† ch·ªß s·ªï ti·∫øt ki·ªám s·ªë:</b> <i id="S·ªï s·ªï th·∫ª"></i></p>
      <p><b>Ph√°t h√†nh ng√†y:</b> <i id="Ng√†y g·ª≠i"></i></p>
      <p><b>T·∫°i B∆∞u ƒëi·ªán:</b></p>
      <p><b>S·ªë ti·ªÅn g·ª≠i:</b> <b><i id="S·ªë ti·ªÅn g·ª≠i"></i> ƒë·ªìng</b> - K·ª≥ h·∫°n: <b><i id="K·ª≥ h·∫°n"></i></b></p>
      <p>T√¥i ƒë·ªìng √Ω tham gia ch∆∞∆°ng tr√¨nh khuy·∫øn m·∫°i <i>"Ti·∫øt ki·ªám h√® v√†ng - Ng·∫≠p tr√†n ∆∞u ƒë√£i"</i> 
      c·ªßa B∆∞u ƒëi·ªán t·ªânh Thanh Ho√° v√† nh·∫≠n qu√† khuy·∫øn m·∫°i l√†: <b><i id="Lo·∫°i qu√† t·∫∑ng"></i></b></p>
      <p>T√¥i cam k·∫øt s·∫Ω kh√¥ng t·∫•t to√°n tr∆∞·ªõc h·∫°n. N·∫øu t·∫•t to√°n tr∆∞·ªõc th·ªùi gian cam k·∫øt, 
      t√¥i xin ho√†n l·∫°i gi√° tr·ªã qu√† t·∫∑ng ƒë√£ nh·∫≠n theo quy ƒë·ªãnh c·ªßa ch∆∞∆°ng tr√¨nh khuy·∫øn m·∫°i.</p>
    </div>

    <div class="confirm">
      <b>X√°c nh·∫≠n c·ªßa kh√°ch h√†ng</b><br>
      <i>(K√Ω v√† ghi r√µ h·ªç t√™n)</i>
    </div>

    <div class="sign">........................................</div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <script>
    function exportPDF() {
      const element = document.getElementById("voucher");
      const opt = {
        margin: 0.5,
        filename: 'phieu-nhan-qua.pdf',
        image: { type: 'jpeg', quality: 0.98 },
        html2canvas: { scale: 2, useCORS: true },
        jsPDF: { unit: 'in', format: 'a4', orientation: 'portrait' }
      };
      html2pdf().set(opt).from(element).save();
    }

    // L·∫•y d·ªØ li·ªáu t·ª´ URL
    const qp = new URLSearchParams(location.search);
    const get = k => qp.get(k) || "";
    document.getElementById("T√™n Kh√°ch h√†ng").textContent = get("tenkh");
    document.getElementById("S·ªï s·ªï th·∫ª").textContent = get("Sosothe");
    document.getElementById("ngayph").textContent = get("Ngayphathanh");
    document.getElementById("S·ªë ti·ªÅn g·ª≠i").textContent = get("total");
    document.getElementById("K·ª≥ h·∫°n").textContent = get("texttotal");
    document.getElementById("Lo·∫°i qu√† t·∫∑ng").textContent = get("qua");
  </script>
</body>
</html>
